<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>About | Express Vercel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

  <nav>
    <a href="/">Home</a> |
    <a href="/about">About</a> |
    <a href="/contact">Contact</a>
  </nav>

  <hr>

  <h1>About</h1>
  <p>
    Project ini dibuat untuk belajar bagaimana cara
    <b>deploy Node.js + Express ke Vercel</b>.
  </p>
  
  <p>
  Website kami telah diakses oleh
  <b><span id="view-count">...</span></b> orang.
</p>

<script>
  async function loadViews() {
    try {
      const res = await fetch("/api/page-views");
      const data = await res.json();

      const aboutPage = data.find(v => v.page === "/about");
      document.getElementById("view-count").textContent =
        aboutPage ? aboutPage.total : 0;
    } catch (err) {
      document.getElementById("view-count").textContent = "0";
    }
  }

  loadViews();
</script>
</body>
</html>
